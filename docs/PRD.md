# 小红书图文生成器材 - 产品需求文档 (PRD)

## 1. 项目简介
**项目名称**：小红书图文生成器材  
**目标用户**：B端电商企业、部分C端创作者  
**核心价值**：通过上传白底商品图和简单介绍，利用AI自动生成符合小红书风格的种草文案及合成图片，降低内容生产成本。

## 2. 用户角色

1.  **普通用户 (Client)**
    *   电商商家或运营人员。
    *   需要快速生成内容。
2.  **管理员 (Admin)**
    *   平台运营方。
    *   负责配置模型参数、管理用户充值、查看数据。

## 3. 核心业务流程

1.  **注册/登录** -> **绑定手机号** -> **获得3次免费额度**。
2.  **上传素材** (白底图 + 产品文字介绍)。
3.  **系统处理** (调用后台配置好的AI模型)。
4.  **结果展示** (生成的文案 + 合成后的图片)。
5.  **额度扣除** (免费次数用完后，检查Token余额，不足提示充值)。

## 4. 功能需求详情

### 4.1 用户端 (Front-office)

#### 4.1.1 注册与登录
*   **方式**：手机号 + 验证码登录/注册。
*   **逻辑**：
    *   新手机号首次登录自动注册。
    *   注册成功后，数据库写入赠送 **3次** 免费生成额度。

#### 4.1.2 创作工作台
*   **输入区**：
    *   图片上传组件：支持JPG/PNG格式，建议白底图。
    *   文本输入框：输入产品卖点、关键词、适用人群等。
    *   提交按钮：“立即生成”。
*   **输出区**：
    *   **文案展示**：包含标题、正文、Emoji表情、标签（Tag）。支持一键复制。
    *   **图片展示**：AI合成后的场景图或带有文字装饰的图片。支持下载。

#### 4.1.3 计费与充值
*   **状态显示**：顶部导航栏显示“剩余次数”或“剩余Token”。
*   **充值页面**：
    *   当免费次数=0且Token不足时，弹窗引导充值。
    *   充值套餐展示（例如：10元/1000 Token）。
    *   *MVP阶段可先做模拟支付，后续接入微信/支付宝*。

### 4.2 管理后台 (Back-office)

#### 4.2.1 模型配置
*   **LLM (文案模型) 配置**：
    *   选择厂商 (OpenAI / Claude / 国内大模型如Kimi, DeepSeek等)。
    *   配置 API Key。
    *   配置 System Prompt (预设的小红书文案风格指令)。
*   **SD/Image (生图模型) 配置**：
    *   配置生图接口 (如 Midjourney, Stable Diffusion API, Flux)。
    *   配置底图合成逻辑或Lora模型参数。

#### 4.2.2 用户管理
*   查看用户列表。
*   手动修改用户Token余额（用于测试或客服补偿）。

## 5. 技术栈规划 (推荐)

鉴于需要快速开发且适合新手维护，推荐使用目前最流行的 **Next.js全栈方案**：

*   **前端框架**：Next.js (React) - 既能写前端页面，也能写后端API。
*   **UI组件库**：Shadcn/UI + Tailwind CSS - 美观、现代、复制代码即用。
*   **数据库**：PostgreSQL (配合 Supabase 或 Prisma ORM) - 易于管理用户和订单数据。
*   **AI接入**：LangChain 或直接调用 API。
*   **认证**：NextAuth.js 或 Supabase Auth (处理手机号登录)。

## 6. 开发阶段规划

1.  **阶段一 (MVP)**：
    *   完成网页框架搭建。
    *   实现手机号模拟登录（跳过真实短信发送，先跑通逻辑）。
    *   写死后台Prompt，打通一张图+一段话 -> 生成结果的链路。
    *   数据库记录剩余次数，实现扣费逻辑。
2.  **阶段二 (完善)**：
    *   接入真实短信验证码。
    *   开发简单的管理后台页面，配置API Key。
    *   接入真实支付（或模拟充值码充值）。

