# 从零开始部署指南（小白版）

## 📋 准备工作

✅ 你的 GitHub 仓库：`percychen19-max/xiaohongshu-content-generator`
✅ 你的 Zeabur 账号：已登录
✅ 代码已准备好：所有修复都在 GitHub 上

---

## 🚀 第一步：进入 Zeabur 控制台

1. **打开浏览器**
   - 访问：https://dash.zeabur.com
   - 如果还没登录，先登录你的账号

2. **进入项目页面**
   - 登录后，你应该能看到你的项目列表
   - 找到项目 `xhs`，点击进入
   - 如果没有 `xhs` 项目，我们会在下一步创建

---

## 🆕 第二步：创建新服务（如果项目已存在）

如果你已经有 `xhs` 项目：

1. **点击 "Add Service" 或 "添加服务" 按钮**
   - 通常在项目页面的右上角或中间位置
   - 按钮可能是蓝色或紫色的

2. **选择 "From GitHub" 或 "从 GitHub"**
   - 会看到几个选项，选择 GitHub 相关的选项

3. **选择你的仓库**
   - 在仓库列表中，找到：`percychen19-max/xiaohongshu-content-generator`
   - 点击这个仓库

4. **等待 Zeabur 检测仓库**
   - 会自动检测仓库信息
   - 可能需要几秒钟

---

## 📁 第三步：设置 Root Directory（非常重要！）

这是最关键的一步，设置错误会导致部署失败！

1. **找到 "Root Directory" 或 "根目录" 设置**
   - 可能在服务设置页面
   - 或者在部署配置页面
   - 通常是一个输入框

2. **输入根目录路径**
   - 在输入框中输入：`web 2`
   - **注意**：`web` 和 `2` 之间有一个空格
   - 不要输入其他内容，就输入：`web 2`

3. **保存设置**
   - 点击 "Save" 或 "保存" 按钮
   - 确认设置已保存

---

## ⚙️ 第四步：配置环境变量

环境变量是应用的配置信息，必须正确设置才能运行。

1. **找到 "Environment Variables" 或 "环境变量" 设置**
   - 通常在服务设置页面
   - 或者在 "Settings" 标签页

2. **添加环境变量**
   - 点击 "Add Variable" 或 "添加变量" 按钮
   - 会看到两个输入框：`Name`（名称）和 `Value`（值）

3. **逐个添加以下环境变量**

   按照下面的列表，一个一个添加：

   ```
   名称: PORT
   值: 3000
   ```

   ```
   名称: DATABASE_URL
   值: postgresql://USER:PASSWORD@HOST:PORT/DBNAME   （请使用你自己的 Zeabur PostgreSQL 连接串）
   ```

   ```
   名称: JWT_SECRET
   值: 请填写一个随机长字符串（至少 32 位，生产环境务必更换）
   ```

   ```
   名称: NODE_ENV
   值: production
   ```

   ```
   名称: ADMIN_USERNAME
   值: admin
   ```

   ```
   名称: ADMIN_PASSWORD
   值: 请设置强密码（生产环境务必更换）
   ```

   ```
   名称: COPY_ENGINE_VENDOR
   值: google
   ```

   ```
   名称: COPY_ENGINE_BASE_URL
   值: https://gitaigc.com/v1
   ```

   ```
   名称: COPY_ENGINE_MODEL_ID
   值: gemini-1.5-pro-latest
   ```

   ```
   名称: GOOGLE_API_KEY
   值: 你的 Google API Key（不要写到仓库/文档里，只放在 Zeabur 环境变量）
   ```

   ```
   名称: IMAGE_ENGINE_VENDOR
   值: google
   ```

   ```
   名称: IMAGE_ENGINE_BASE_URL
   值: https://gitaigc.com/v1
   ```

   ```
   名称: IMAGE_ENGINE_MODEL_ID
   值: gemini-2.5-flash-image
   ```

   ```
   名称: DASHSCOPE_API_KEY
   值: 你的 DashScope API Key（不要写到仓库/文档里，只放在 Zeabur 环境变量）
   ```

   ```
   名称: DASHSCOPE_BASE_URL
   值: https://dashscope.aliyuncs.com/api/v1
   ```

4. **确认所有环境变量已添加**
   - 检查列表，确保所有 15 个环境变量都在
   - 确认每个变量的值都正确

---

## 🚀 第五步：开始部署

1. **找到 "Deploy" 或 "部署" 按钮**
   - 通常在服务设置页面的底部
   - 或者在服务概览页面

2. **点击 "Deploy" 或 "部署"**
   - 会开始构建过程
   - 可能需要等待几分钟

3. **等待构建开始**
   - 会看到构建状态变为 "Building" 或 "构建中"
   - 不要关闭页面

---

## 📊 第六步：查看构建日志

1. **找到 "Logs" 或 "日志" 按钮**
   - 通常在服务页面的顶部导航栏
   - 或者在部署详情页面

2. **点击 "Logs" 或 "日志"**
   - 会打开日志查看器
   - 可以看到实时的构建过程

3. **观察构建过程**
   - 会看到很多输出信息
   - 正常情况下会看到：
     - ✅ 安装依赖包
     - ✅ 生成 Prisma Client
     - ✅ 构建 Next.js 应用
     - ✅ 构建成功

4. **如果看到错误**
   - 不要慌张
   - 把完整的错误信息复制下来
   - 发给我，我会帮你解决

---

## ⏱️ 第七步：等待部署完成

1. **构建时间**
   - 通常需要 5-10 分钟
   - 第一次部署可能更久

2. **构建成功的标志**
   - 状态变为 "Running" 或 "运行中"
   - 日志显示 "Build completed" 或 "构建完成"
   - 没有红色错误信息

3. **如果构建失败**
   - 查看日志中的错误信息
   - 检查环境变量是否正确
   - 检查 Root Directory 是否设置为 `web 2`

---

## ✅ 第八步：验证部署成功

1. **查看服务状态**
   - 应该显示 "Running" 或 "运行中"
   - 应该有一个访问 URL

2. **访问应用**
   - 点击服务提供的 URL
   - 或者在 "Domains" 页面查看域名
   - 应该能看到登录页面

3. **测试功能**
   - 尝试注册一个新账号
   - 尝试登录
   - 如果都能正常使用，说明部署成功！

---

## ❓ 常见问题

### Q1: 找不到 "Add Service" 按钮？
**A:** 可能需要在项目页面，或者点击项目名称进入项目详情。

### Q2: Root Directory 在哪里设置？
**A:** 通常在服务设置页面，或者在部署配置的第一步。

### Q3: 环境变量在哪里添加？
**A:** 在服务设置页面的 "Environment Variables" 或 "环境变量" 部分。

### Q4: 构建失败了怎么办？
**A:** 
1. 查看构建日志，找到错误信息
2. 检查 Root Directory 是否设置为 `web 2`
3. 检查所有环境变量是否正确
4. 把错误信息发给我

### Q5: 部署成功了但访问不了？
**A:**
1. 检查服务状态是否为 "Running"
2. 查看运行时日志，看应用是否正常启动
3. 检查环境变量中的 DATABASE_URL 是否正确

---

## 📞 需要帮助？

如果在任何步骤遇到问题：
1. 截图当前页面
2. 复制错误信息
3. 告诉我你在哪一步
4. 我会帮你解决！

---

## 🎉 完成！

如果一切顺利，你的应用应该已经成功部署了！
现在可以开始使用了！



